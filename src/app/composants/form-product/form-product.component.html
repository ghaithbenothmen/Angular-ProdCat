<form #productForm="ngForm" class="p-4 border rounded" style="max-width: 600px; margin: auto;">
    <div class="form-group">
        <label for="categoryId">Product Name:</label>
        <input
            type="text"
            id="name"
            name="name"
            class="form-control"
            [(ngModel)]="product.name"
            required
            minlength="5"
            pattern="[a-zA-Z]*"
            #name="ngModel"
            placeholder="Product Name"
        />
        <div *ngIf="name.invalid && (name.dirty || name.touched)" class="text-danger mt-1">
            <small *ngIf="name.errors?.['required']">Name is required.</small>
            <small *ngIf="name.errors?.['minlength']">Minimum 5 characters required.</small>
            <small *ngIf="name.errors?.['pattern']">Only letters are allowed.</small>
        </div>
    </div>

    <div class="form-group">
        <label for="categoryId">Category ID:</label>
        <input
            type="number"
            id="categoryId"
            name="categoryId"
            class="form-control"
            [(ngModel)]="product.categoryId"
            required
            #categoryId="ngModel"
        />
        <div *ngIf="categoryId.invalid && (categoryId.dirty || categoryId.touched)" class="text-danger mt-1">
            <small *ngIf="categoryId.errors?.['required']">Category ID is required.</small>
        </div>
    </div>

    <div class="form-group">
        <label for="price">Price:</label>
        <input
            type="text"
            id="price"
            name="price"
            class="form-control"
            [(ngModel)]="product.price"
            required
            pattern="^\d+(\.\d+)?$"
            #price="ngModel"
        />
        <div *ngIf="price.invalid && (price.dirty || price.touched)" class="text-danger mt-1">
            <small *ngIf="price.errors?.['required']">Price is required.</small>
            <small *ngIf="price.errors?.['pattern']">Only numbers and decimals are allowed.</small>
        </div>
    </div>

    <div class="form-group">
        <label for="promotion">Promotion:</label>
        <input
            type="number"
            id="promotion"
            name="promotion"
            class="form-control"
            [(ngModel)]="product.promotion"
            max="100"
            pattern="^(0|[1-9][0-9]?)$"
            #promotion="ngModel"
        />
        <div *ngIf="promotion.invalid && (promotion.dirty || promotion.touched)" class="text-danger mt-1">
            <small *ngIf="promotion.errors?.['pattern']">Promotion must be 0-100.</small>
        </div>
    </div>

    <div class="form-group">
        <label for="image">Image URL:</label>
        <input
            type="text"
            id="image"
            name="image"
            class="form-control"
            [(ngModel)]="product.image"
            placeholder="Image URL"
        />
    </div>

    <div class="form-group">
        <label for="description">Description:</label>
        <textarea
            id="description"
            name="description"
            class="form-control"
            [(ngModel)]="product.description"
            placeholder="Product Description"
        ></textarea>
    </div>

    <div class="form-group">
        <label for="brand">Brand:</label>
        <input
            type="text"
            id="brand"
            name="brand"
            class="form-control"
            [(ngModel)]="product.brand"
            placeholder="Brand Name"
        />
    </div>

    <button type="submit" class="btn btn-primary btn-block mt-4" [disabled]="productForm.invalid" (click)="addproduct()">Save</button>
</form>


<h3 class="mt-5">Product List</h3>
<ul class="list-group">
    <li *ngFor="let item of productList" class="list-group-item">
        {{ item.name }} - ${{ item.price }} - Promotion: {{ item.promotion }}%
    </li>
</ul>
